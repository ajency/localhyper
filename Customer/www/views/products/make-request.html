<ion-view google-search-tap-disable>

	<div class="bar bar-subheader">
		<div class="row">
			<div class="col col-10" ng-click="view.getCurrent()">
				<img 
					src="./img/gps.png" 
					style="width: 25px;"/>
			</div>
			<div class="col col-80">
				<input 
					id="locationSearch"
					type="text" 
					placeholder="Search for location"
					style="width: 100%; height: 100%;"
					data-tap-disabled="true"
					google-map-search
					on-place-change="view.onPlaceChange(location)"
					ng-model="view.searchText">
			</div>
			<div class="col col-10">
				<button 
					class="button button-clear icon ion-ios-close-outline"
					ng-click="view.searchText = ''">
				</button>
			</div>
		</div>
	</div>
	
    <ion-content class="has-subheader map-content">

    	<google-map
			class="aj-very-big-map"
			on-create="view.onMapCreated(map)">
		</google-map>

		<div class="address-inputs">
			<h3>Delivery Address</h3>

			<div class="row p-b-0">
				<div class="col p-b-0">
					<label class="item item-input">
						<input
							type="text"
							placeholder="Address Line 1"
							ng-model="view.address.address_line1">
					</label>
				</div>
			</div>
			<div class="row p-b-0">
				<div class="col p-b-0">
					<label class="item item-input">
						<input
							type="text"
							placeholder="Address Line 2"
							ng-model="view.address.address_line2">
					</label>
				</div>
			</div>
			<div class="row p-b-0">
				<div class="col">
					<label class="item item-input">
						<input
							type="text"
							placeholder="Address Line 3"
							ng-model="view.address.address_line3">
					</label>
				</div>
			</div>

			<div class="row p-b-0">
				<div class="col p-b-0 p-r-0 b-r-1">
					<label class="item item-input no-input">
						City: {{view.address.city}}
					</label>
				</div>
				<div class="col p-b-0 p-l-0">
					<label class="item item-input no-input">
						Pincode: {{view.address.postal_code}}
					</label>
				</div>
			</div>

			<div class="row p-b-0">
				<div class="col p-r-0 b-r-1">
					<label class="item item-input no-input">
						State: {{view.address.state}}
					</label>
				</div>
				<div class="col p-l-0">
					<label class="item item-input no-input">
						Country: {{view.address.country}}
					</label>
				</div>
			</div>
		</div>

		<div class="list">
			<label class="item item-input item-stacked-label">
				<span class="input-label">Add comments</span>
				<input 
					readonly
					type="text" 
					placeholder="Enter comments if any"
					ng-model="view.comments.text"
					ng-click="view.addComments();">
			</label>
		</div>
		
		<div ng-if="view.sellers.displayCount">
			<h4 ng-show="view.sellers.count == 0;">
				Since there are no sellers who serve your area, the number of offers received might be less or take longer.
			</h4>

			<h4 ng-hide="view.sellers.count == 0;">
				Found {{view.sellers.count}} sellers in your area
			</h4>
		</div>

		<button 
			class="button button-block button-dark"
			ng-hide="view.sellers.found"
			ng-click="view.findSellers();">
			Find sellers
		</button>

		<button 
			class="button button-block button-assertive"
			ng-show="view.sellers.found"
			ng-click="view.makeRequest();">
			Make Request
		</button>
		
    </ion-content>

</ion-view>

